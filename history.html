<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        header {
            width: 100%;
            background-color: #4caf50;
            color: white;
            text-align: center;
            padding: 20px 0;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .welcome-message {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
            text-align: center;
            max-width: 80%;
        }
        .home-page {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        .thumbnail {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: perspective(100px) rotateX(0) rotateY(0);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .thumbnail:hover {
            transform: perspective(100px) rotateX(-5deg) rotateY(5deg);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }
        .thumbnail.selected {
            background-color: #4caf50;
            color: white;
        }
        .question-page {
            display: none;
            text-align: center;
            margin-top: 50px;
        }
        .back-button, .reveal-button, .end-button {
            margin-top: 20px;
            margin-bottom: 40px;
            padding: 10px 20px;
            background-color: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .back-button:hover, .reveal-button:hover, .end-button:hover {
            background-color: #45a049;
        }
        .answer-text {
            margin-top: 20px;
            font-weight: bold;
            color: #333;
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body>
    <header>
        History Quiz
    </header>
    <div class="welcome-message"> Welcome to the History Quiz Challenge!</div>
    <div id="home-page" class="home-page">
        <!-- Thumbnails will be generated here -->
    </div>
    <div id="question-page" class="question-page">
        <h1 id="question-text">Question</h1>
        <p id="answer-text" class="answer-text">Answer</p>
        <button class="reveal-button" onclick="revealAnswer()">Reveal Answer</button>
        <button class="back-button" onclick="goBack()">Back to Home</button>
    </div>
    <button class="end-button" onclick="endQuiz()">End Quiz</button>
  <a href="/quizmaster" class="end-button">Go to HOME</a>
<script>
    const questions = [
        "Who was the first President of the United States?",
        "In which year did World War II end?",
        "Who was the first emperor of China?",
        "What was the name of the ship that carried the Pilgrims to America in 1620?",
        "Who wrote the play 'Romeo and Juliet'?",
        "What was the ancient civilization that built the pyramids in Egypt?",
        "In which year did the Titanic sink?",
        "Who was the famous queen of ancient Egypt?",
        "Which war was fought between the North and South regions of the United States?",
        "Who was the first man to walk on the Moon?",
        "What was the name of the ship that brought Christopher Columbus to America?",
        "Who was the leader of the Soviet Union during World War II?",
        "In which year did the Berlin Wall fall?",
        "Who was the famous leader of the Mongol Empire?",
        "Which country was the first to give women the right to vote?",
        "Who was the leader of the Civil Rights Movement in the United States?",
        "Who was the first woman to fly solo across the Atlantic Ocean?",
        "Who was the last czar of Russia?",
        "In which year did the French Revolution begin?",
        "Who invented the telephone?"
    ];

    const answers = [
        "George Washington",
        "1945",
        "Qin Shi Huang",
        "The Mayflower",
        "William Shakespeare",
        "Ancient Egyptians",
        "1912",
        "Cleopatra",
        "The American Civil War",
        "Neil Armstrong",
        "Santa Maria",
        "Joseph Stalin",
        "1989",
        "Genghis Khan",
        "New Zealand",
        "Martin Luther King Jr.",
        "Amelia Earhart",
        "Nicholas II",
        "1789",
        "Alexander Graham Bell"
    ];

    const homePage = document.getElementById('home-page');
    const questionPage = document.getElementById('question-page');
    const questionText = document.getElementById('question-text');
    const answerText = document.getElementById('answer-text');
    const thumbnails = [];

    let currentQuestionIndex = null;

    // Load progress from localStorage
    const selectedThumbnails = JSON.parse(localStorage.getItem('selectedThumbnails')) || [];

    // Generate thumbnails for 20 questions
    for (let i = 1; i <= 20; i++) {
        const thumbnail = document.createElement('div');
        thumbnail.className = 'thumbnail';
        thumbnail.textContent = i;

        // If previously selected, mark as selected
        if (selectedThumbnails.includes(i)) {
            thumbnail.classList.add('selected');
        }

        thumbnail.onclick = () => showQuestion(i, thumbnail);
        thumbnails.push(thumbnail);
        homePage.appendChild(thumbnail);
    }

    // Show the question page
    function showQuestion(number, thumbnail) {
        homePage.style.display = 'none';
        questionPage.style.display = 'block';
        currentQuestionIndex = number - 1; // Store current question index
        questionText.textContent = questions[currentQuestionIndex];
        answerText.style.display = 'none'; // Hide the answer initially

        if (!selectedThumbnails.includes(number)) {
            selectedThumbnails.push(number);
            thumbnail.classList.add('selected');
            saveProgress();
        }

        // Speak the question
        speakText(`Question: ${questions[currentQuestionIndex]}`);
    }

    // Reveal the answer
    function revealAnswer() {
        answerText.textContent = answers[currentQuestionIndex];
        answerText.style.display = 'block'; // Show the answer

        // Speak the answer
        speakText(`Answer: ${answers[currentQuestionIndex]}`);
    }

    // Go back to the home page
    function goBack() {
        homePage.style.display = 'grid';
        questionPage.style.display = 'none';
    }

    // Save selected thumbnails to localStorage
    function saveProgress() {
        localStorage.setItem('selectedThumbnails', JSON.stringify(selectedThumbnails));
    }

    // End quiz and clear localStorage
    function endQuiz() {
        localStorage.removeItem('selectedThumbnails');
        location.reload(); // Refresh the page to reset state
    }

    // Function to speak text
    function speakText(text) {
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            speechSynthesis.speak(utterance);
        } else {
            alert('Text-to-speech is not supported in this browser.');
        }
    }
</script>
</body>
</html>
