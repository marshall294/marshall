<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geography Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        header {
            width: 100%;
            background-color: #4caf50;
            color: white;
            text-align: center;
            padding: 20px 0;
            font-size: 2rem;
            font-weight: bold;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .welcome-message {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #333;
            text-align: center;
            max-width: 80%;
        }
        .home-page {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-top: 20px;
            width: 90%;
            max-width: 800px;
        }
        .thumbnail {
            width: 80%;
            padding-top: 40%; /* This ensures it's square */
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: perspective(100px) rotateX(0) rotateY(0);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-size: 1.5rem;
            text-align: center;
        }
        .thumbnail:hover {
            transform: perspective(100px) rotateX(-5deg) rotateY(5deg);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }
        .thumbnail.selected {
            background-color: #4caf50;
            color: white;
        }
        .question-page {
            display: none;
            text-align: center;
            margin-top: 50px;
        }
        .back-button, .reveal-button, .end-button {
            margin-top: 20px;
            margin-bottom: 40px;
            padding: 12px 25px;
            background-color: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1rem;
        }
        .back-button:hover, .reveal-button:hover, .end-button:hover {
            background-color: #45a049;
        }
        .answer-text {
            margin-top: 20px;
            font-weight: bold;
            color: #333;
            display: none; /* Initially hidden */
        }

        /* Media Queries for responsiveness */
        @media (max-width: 768px) {
            header {
                font-size: 1.5rem;
            }
            .home-page {
                grid-template-columns: repeat(4, 1fr);
            }
            .thumbnail {
                font-size: 1.2rem;
            }
            .back-button, .reveal-button, .end-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
        @media (max-width: 480px) {
            header {
                font-size: 1.2rem;
            }
            .home-page {
                grid-template-columns: repeat(3, 1fr);
            }
            .thumbnail {
                font-size: 1rem;
            }
            .back-button, .reveal-button, .end-button {
                padding: 8px 15px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        Geography Quiz
    </header>
    <div class="welcome-message"> Welcome to the Geography Quiz Challenge!</div>
    <div id="home-page" class="home-page">
        <!-- Thumbnails will be generated here -->
    </div>
    <div id="question-page" class="question-page">
        <h1 id="question-text">Question</h1>
        <p id="answer-text" class="answer-text">Answer</p>
        <button class="reveal-button" onclick="revealAnswer()">Reveal Answer</button>
        <button class="back-button" onclick="goBack()">Back to Home</button>
    </div>
    <button class="end-button" onclick="endQuiz()">End Quiz</button>
  <a href="/quizmaster" class="end-button">Go to HOME</a>
<script>
    const questions = [
        "What is the capital of France?",
        "Which is the longest river in the world?",
        "Which country is known as the Land of the Rising Sun?",
        "What is the largest desert in the world?",
        "In which country would you find the Great Barrier Reef?",
        "Which continent is the Sahara Desert located on?",
        "Which country has the most islands in the world?",
        "What is the smallest country in the world?",
        "Which mountain is the tallest in the world?",
        "Which ocean is the largest?",
        "Which city is known as the Big Apple?",
        "Which country is home to the ancient pyramids of Giza?",
        "Which river is the longest in Europe?",
        "What is the largest continent by area?",
        "Which two countries share the longest border in the world?",
        "Which country has the most official languages?",
        "What is the name of the famous landmark in India that is a symbol of love?",
        "Which continent is known as the 'Dark Continent'?",
        "What is the capital of Japan?",
        "Which river flows through Egypt?"
    ];

    const answers = [
        "Paris",
        "The Nile",
        "Japan",
        "The Sahara Desert",
        "Australia",
        "Africa",
        "Sweden",
        "Vatican City",
        "Mount Everest",
        "The Pacific Ocean",
        "New York City",
        "Egypt",
        "The Volga River",
        "Asia",
        "Canada and the United States",
        "South Africa",
        "The Taj Mahal",
        "Africa",
        "Tokyo",
        "The Nile"
    ];

    const homePage = document.getElementById('home-page');
    const questionPage = document.getElementById('question-page');
    const questionText = document.getElementById('question-text');
    const answerText = document.getElementById('answer-text');
    const thumbnails = [];

    let currentQuestionIndex = null;

    // Load progress from localStorage
    const selectedThumbnails = JSON.parse(localStorage.getItem('selectedThumbnails')) || [];

    // Generate thumbnails for 20 questions
    for (let i = 1; i <= 20; i++) {
        const thumbnail = document.createElement('div');
        thumbnail.className = 'thumbnail';
        thumbnail.textContent = i;

        // If previously selected, mark as selected
        if (selectedThumbnails.includes(i)) {
            thumbnail.classList.add('selected');
        }

        thumbnail.onclick = () => showQuestion(i, thumbnail);
        thumbnails.push(thumbnail);
        homePage.appendChild(thumbnail);
    }

    // Show the question page
    function showQuestion(number, thumbnail) {
        homePage.style.display = 'none';
        questionPage.style.display = 'block';
        currentQuestionIndex = number - 1; // Store current question index
        questionText.textContent = questions[currentQuestionIndex];
        answerText.style.display = 'none'; // Hide the answer initially

        if (!selectedThumbnails.includes(number)) {
            selectedThumbnails.push(number);
            thumbnail.classList.add('selected');
            saveProgress();
        }

        // Speak the question
        speakText(`Question: ${questions[currentQuestionIndex]}`);
    }

    // Reveal the answer
    function revealAnswer() {
        answerText.textContent = answers[currentQuestionIndex];
        answerText.style.display = 'block'; // Show the answer

        // Speak the answer
        speakText(`Answer: ${answers[currentQuestionIndex]}`);
    }

    // Go back to the home page
    function goBack() {
        homePage.style.display = 'grid';
        questionPage.style.display = 'none';
    }

    // Save selected thumbnails to localStorage
    function saveProgress() {
        localStorage.setItem('selectedThumbnails', JSON.stringify(selectedThumbnails));
    }

    // End quiz and clear localStorage
    function endQuiz() {
        localStorage.removeItem('selectedThumbnails');
        location.reload(); // Refresh the page to reset state
    }

    // Function to speak text
    function speakText(text) {
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            speechSynthesis.speak(utterance);
        } else {
            alert('Text-to-speech is not supported in this browser.');
        }
    }
</script>
</body>
</html>
